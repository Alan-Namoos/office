<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

<% if(pageID == 'editCase') { %>
<script>
        var case_type = '<%= clientCase.case_type %>';
        var case_status = '<%= clientCase.case_status %>';
        var case_priority = '<%= clientCase.case_priority %>';
        
        var case_typeControl = document.getElementById("case_type");
        for (let i = 0; i < case_typeControl.options.length; i++){ 
            if (case_typeControl.options[i].value == case_type) { 
                case_typeControl.options[i].selected = true; 
            } 
        }
        
        var case_statusControl = document.getElementById("case_status");
        for (let i = 0; i < case_statusControl.options.length; i++){ 
            if (case_statusControl.options[i].value == case_status) { 
                case_statusControl.options[i].selected = true; 
            } 
        }
        
        var case_priorityControl = document.getElementById("case_priority");
        for (let i = 0; i < case_priorityControl.options.length; i++){ 
            if (case_priorityControl.options[i].value == case_priority) { 
                case_priorityControl.options[i].selected = true; 
            } 
        }
        
</script>
<% } %>

<% if(pageID == 'editClient') { %>
    <script>
            var immigStatus = '<%= client.immigration_status %>';
            var employment = '<%= client.employment %>';
            
            var immigStatusControl = document.getElementById("immigration_status");
            for (let i = 0; i < immigStatusControl.options.length; i++){ 
                if (immigStatusControl.options[i].value == immigStatus) { 
                    immigStatusControl.options[i].selected = true; 
                } 
            }
            
            var employmentControl = document.getElementById("employment");
            for (let i = 0; i < employmentControl.options.length; i++){ 
                if (employmentControl.options[i].value == employment) { 
                    employmentControl.options[i].selected = true; 
                } 
            }
            
    </script>
    <% } %>

<% if(pageID == 'editClient' || pageID == 'addClient' || pageID == 'editCase') { %>
<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
        'use strict';

        window.addEventListener('load', function() {
        var form = document.getElementById('needs-validation');
        form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
            }
            form.classList.add('was-validated');
        }, false);
        }, false);
    })();
</script>
<% } %>
